{"componentChunkName":"component---src-templates-post-template-tsx","path":"/blog/n-ways-to-debug-rn","result":{"data":{"markdownRemark":{"html":"<p>React Native is an abstraction over the native code, which allows us to have one code base for multiple platforms. Sounds great, right? Not everybody though is so enthusiastic about this approach. One of the reasons might be troublesome running and debugging the JavaScript code. In this blog post you may find a short tutorial on how to debug your app on Android and iOS, on a physical device or a simulator/emulator, the JavaScript code and the native one.</p>\n<p><img src=\"/images/n-ways-to-debug-rn/image1.jpeg\">{: .center-image}</p>\n<p><strong>Run the iOS app</strong></p>\n<p>It is quite convenient to create build configurations in your IDE. I personally use IntelliJ IDEA, but WebStorm is pretty similar.</p>\n<p>Go to <code>Add Configuration</code> (or <code>Edit configuration</code>, if you happen to have any configuration created already).</p>\n<p><img src=\"/images/n-ways-to-debug-rn/1-add-config.png\">{: .center-image}</p>\n<p><img src=\"/images/n-ways-to-debug-rn/2-edit-config.png\">{: .center-image}</p>\n<p>Add a new <code>React Native</code> configuration. </p>\n<p><img src=\"/images/n-ways-to-debug-rn/3-config-rn.png\">{: .center-image}</p>\n<p>Call it <code>Run iOS</code> or whatever is meaningful to you. As a <code>Target Platform</code> choose <code>iOS</code>. We can use either a physical device or a simulator to run the app on. </p>\n<ul>\n<li>To install the app on a physical device set <code>Arguments</code> property to<code>--device=\"MyDevice\"</code>. The name of your device you can find and edit in <code>Settings</code> -> <code>General</code> -> <code>About</code> -> <code>Name</code>. </li>\n<li>To install and run the app on a simulator set <code>Arguments</code> property to  <code>--simulator=\"iPhone X\"</code> (or any other device with iOS you want to test on). The simulator is shipped with Xcode and you need a Mac to run it. To manage simulated devices, open Xcode, go to <code>Window</code> -> <code>Devices and Simulators</code>. </li>\n<li>If you leave the <code>Arguments</code> property empty, it will attempt to install the app on any connected device.</li>\n</ul>\n<p>You can also include your <code>.env</code> file in the <code>Environment</code> property as follows: <code>ENVFILE=.env.staging</code>.</p>\n<p><img src=\"/images/n-ways-to-debug-rn/4-ios-config.png\">{: .center-image}</p>\n<p><strong>Run the Android app</strong></p>\n<p>Creating the run configuration for Android is pretty similar. Add another <code>React Native</code> configuration, give it a name and choose <code>Android</code> as a <code>Target Platform</code>. To run the app on a device or a simulator, you need to have <code>adb</code> installed. It is shipped with Android Studio, which is convenient to have installed anyway. To view and manage Android emulated devices, you may use Android Studio. From menu select <code>Tools -> AVD Manager</code>. You can also use the command line for this, check the details <a href=\"https://developer.android.com/studio/run/emulator-commandline\">here</a>. To run the app on a physical device, you need to enable the developer mode on it. Once you run the app, it will be installed on all devices connected (to view the devices list, you can run <code>adb devices</code>).</p>\n<p><img src=\"/images/n-ways-to-debug-rn/5-android-config.png\">{: .center-image}</p>\n<p><strong>Hot Reloading</strong></p>\n<p>Now that we can run the React Native app, there is a handy option, you may want to enable: <code>Hot Reloading</code>. To enable it, open the in-app developer menu with <code>CMD + D</code> (iPhone simulator), or <code>CMD + M</code> (Android emulator), or shake gesture (physical device). </p>\n<p><img src=\"/images/n-ways-to-debug-rn/6-in-app.png\">{: .center-image}</p>\n<p>Hot reloading will reflect any changes you make in the JavaScript code right away in the running app. This means you won’t need to reload your app. There is also another option available: <code>Live reload</code>. It will reload your app anytime you change the code, which means you will lose the current app state.</p>\n<p><strong>Inspector</strong></p>\n<p>Once we are in the developer menu, there is another useful option - inspector. This is not the fully featured inspector a web developer may know from web browsers, but it may help from time to time. To enable it, choose <code>Toggle Inspector</code>.</p>\n<p><strong>Debug JavaScript code</strong></p>\n<p>Now we are almost ready to debug the JavaScript code. Put some breakpoints and run debug. Once the app launches on your device, enter the in-app developer menu and choose <code>Debug JS Remotely</code>. A web browser should open and display the debugger page. If it does not, <a href=\"http://localhost:8081/debugger-ui/\">open in manually</a>. Now you can debug your JS code either in the browser’s developer tool window or via the IDE. You can debug your app both on physical and virtual devices, on Android and iOS.</p>\n<p><strong>Debug native code</strong></p>\n<p>While developing a React Native app, most often you are focused on the JavaScript code, but you cannot forget that the native code is still there under the hood. Sooner or later, you will probably need to dive deep into it. Here is the way how to debug the native code inside a React Native app.</p>\n<ol>\n<li>Run your React Native app (on a device or an emulator/simulator).</li>\n<li>Open the native subproject of your React Native app (probably placed in <code>android</code> or <code>ios</code> directory) in Android Studio or Xcode.</li>\n<li>\n<p>Attach to the process:</p>\n<ul>\n<li>In Android Studio open <code>Attach debugger to Android process</code>, check <code>Show all processes</code> and choose the device that your app is running on.\n<img src=\"/images/n-ways-to-debug-rn/7-attatch-android-1.png\">{: .center-image}\n<img src=\"/images/n-ways-to-debug-rn/8-attatch-android-2.png\">{: .center-image}</li>\n<li>In Xcode open <code>Debug</code> -> <code>Attach to Process</code> and choose your app process (it will likely be named as your app).\n<img src=\"/images/n-ways-to-debug-rn/9-attatch-ios.png\">{: .center-image}</li>\n</ul>\n</li>\n<li>Now you can debug the native code - the app code itself (which is probably not that necessary) as well as included libraries. The latter is extremely useful when you need to develop your own react-native-to-native bridge library.</li>\n</ol>\n<p><strong>Tips and tricks</strong></p>\n<p>Although it looks promising, not everything works like a charm. In fact, as of my experience, more often it does not work. Here are some tips, what to do when things don’t go like clockwork.</p>\n<p>Hot reloading does not always reload a screen properly, sometimes you just need to reload the app manually to get the changes visible (especially when you change the styles only). Keep it in mind, when your changes don’t seem to work :) </p>\n<p>While debugging JavaScript code, you may also encounter some problems. Just to name a few most often for me: </p>\n<ul>\n<li>sometimes the IDE decides to stop debugging :) Usually, it’s still possible to debug in the browser</li>\n<li>a breakpoint added while debugging does not take effect, even after reloading the app</li>\n<li>any changes made in the code while debugging do not take effect,</li>\n<li>the app crashes right after starting.</li>\n</ul>\n<p>You can resolve most of these problems by taking one or more of the following steps: reopening simulator/emulator, reopening the browser, restarting the Metro Bundler process and the platform-specific process (or killing the node process), cleaning (remove <code>node_modules</code> directory and run <code>yarn/npm install</code>, remove <code>ios/buid</code> directory) and rebuilding the app.</p>\n<p>To sum up, the JavaScript debugging process is not as seamless and stable as you may be used to if you come from native technologies, but you still can and should benefit from the mentioned possibilities and techniques.</p>","excerpt":"React Native is an abstraction over the native code, which allows us to have one code base for multiple platforms. Sounds great, right? Not…","frontmatter":{"slug":null,"title":"N ways to debug React Native app","description":null,"author":"agnieszka","tags":["react-native","debug","android","ios","react native"],"date":"2019-01-09T23:00:00.000Z","image":"/images/n-ways-to-debug-rn/image1.jpeg"},"timeToRead":5,"fileAbsolutePath":"/home/runner/work/new-www/new-www/src/mdData/blog/2019-01-10-n-ways-to-debug-rn.md"},"allMarkdownRemark":{"nodes":[{"frontmatter":{"author_id":"adam","avatar":"/images/members/adam_bar.jpg","bio":"The Web Guy @ Bright Inventions","name":"Adam Bar","web":"https://whatwebcando.today"}},{"frontmatter":{"author_id":"agnieszka_h","avatar":"/images/members/agnieszka_h.jpg","bio":"Sales Manager @ Bright Inventions","name":"Agnieszka Hayashida","web":null}},{"frontmatter":{"author_id":"agnieszka","avatar":"/images/members/agnieszka_olszewska.jpg","bio":"Fullstack developer","name":"Agnieszka Olszewska","web":null}},{"frontmatter":{"author_id":"olo","avatar":"/images/members/aleksander_wielgorski.jpeg","bio":"Software Engineer @ Bright Inventions","name":"Aleksander Wielgórski","web":null}},{"frontmatter":{"author_id":"alisa","avatar":"/images/members/alisa_kashytska.jpg","bio":"Product designer","name":"Alisa Kashytska","web":null}},{"frontmatter":{"author_id":"azabost","avatar":"/images/members/andrzej_zabost.jpg","bio":"Senior Android developer","name":"Andrzej Zabost","web":"https://azabost.com"}},{"frontmatter":{"author_id":"arturs","avatar":"/images/members/artur.jpg","bio":"iOS developer","name":"Artur Suliński","web":null}},{"frontmatter":{"author_id":"bartek k","avatar":"/images/members/bartek_krzyzanski.jpg","bio":"Backend developer","name":"Bartek Krzyżański","web":null}},{"frontmatter":{"author_id":"bartekr","avatar":"/images/members/bartek.jpg","bio":"iOS developer","name":"Bartek Rozwarski","web":null}},{"frontmatter":{"author_id":"bartosz","avatar":"/images/members/bartosz_szafran.jpg","bio":"Senior Frontend Developer","name":"Bartosz Szafran","web":null}},{"frontmatter":{"author_id":"daniel","avatar":"/images/members/daniel_makurat.jpg","bio":"Co-founder & Senior Backend developer","name":"Daniel Makurat","web":null}},{"frontmatter":{"author_id":"eliasz","avatar":"/images/members/eliasz.png","bio":"Software Engineer @ Bright Inventions","name":"Eliasz Sawicki","web":"http://eluss.github.io/"}},{"frontmatter":{"author_id":"fjablonski","avatar":"/images/members/filip_jablonski.jpg","bio":"Senior iOS developer","name":"Filip Jabłoński","web":null}},{"frontmatter":{"author_id":"grzesiek","avatar":"/images/members/grzegorz_ciesla.jpg","bio":"Software Developer","name":"Grzegorz Cieśla","web":null}},{"frontmatter":{"author_id":"ivan","avatar":"/images/members/ivan.jpg","bio":"Fullstack developer","name":"Ivan Menshykov","web":null}},{"frontmatter":{"author_id":"janek","avatar":"/images/members/janhanc.jpg","bio":"Frontend developer","name":"Jan Hanc","web":null}},{"frontmatter":{"author_id":"kwysocki","avatar":"/images/members/kamil.png","bio":"Software Engineer @ Bright Inventions","name":"Kamil Wysocki","web":"https://wysockikamil.com"}},{"frontmatter":{"author_id":"karoln","avatar":"/images/members/karol_nadratowski.jpg","bio":null,"name":"Karol Nadratowski","web":null}},{"frontmatter":{"author_id":"karol r","avatar":"/images/members/karol_rinc.jpg","bio":"Backend developer","name":"Karol Rinc","web":null}},{"frontmatter":{"author_id":"kasia","avatar":"/images/members/kasia_lukasiewicz.jpg","bio":"Senior Project Manager","name":"Kasia Łukasiewicz","web":null}},{"frontmatter":{"author_id":"kasia g","avatar":"/images/members/katarzyna_galka.jpg","bio":"Project manager","name":"Katarzyna Gałka","web":null}},{"frontmatter":{"author_id":"krzysiek h","avatar":"/images/members/krzysztof_hinc.jpg","bio":"Web developer","name":"Krzysiek Hinc","web":null}},{"frontmatter":{"author_id":"krzysiek","avatar":"/images/members/krzysztof_kaczmarek.jpg","bio":"Senior iOS Developer","name":"Krzysztof Kaczmarek","web":null}},{"frontmatter":{"author_id":"maciej","avatar":"/images/members/maciej_seleman.jpg","bio":"QA Specialist","name":"Maciej Seleman","web":null}},{"frontmatter":{"author_id":"magda","avatar":"/images/members/magda_sadowska.jpg","bio":"Office & HR Assistant","name":"Magda Sadowska","web":null}},{"frontmatter":{"author_id":"maja","avatar":"/images/members/maja_puta.jpg","bio":"Junior QA Specialist","name":"Maja Puta","web":null}},{"frontmatter":{"author_id":"marcink","avatar":"/images/members/marcin_kwiatkowski.jpg","bio":null,"name":"Marcin Kwiatkowski","web":null}},{"frontmatter":{"author_id":"mateusz","avatar":"/images/members/mateusz_klimczak.jpg","bio":"Technical leader & Project manager","name":"Mateusz Klimczak","web":null}},{"frontmatter":{"author_id":"mateuszklimek","avatar":"/images/members/mateuszklimek.png","bio":"Software Engineer @ Bright Inventions","name":"Mateusz Klimek","web":null}},{"frontmatter":{"author_id":"michal k","avatar":"/images/members/michal_koszalka.jpg","bio":"Senior Backend developer","name":"Michał Koszałka","web":null}},{"frontmatter":{"author_id":"michał","avatar":"/images/members/michal_wrobel.jpg","bio":"Senior Backend Developer at Bright Inventions","name":"Michał Wróbel","web":null}},{"frontmatter":{"author_id":"michal","avatar":"/images/members/michał_łukasiewicz.jpg","bio":"Co-founder & Senior iOS developer","name":"Michał Łukasiewicz","web":null}},{"frontmatter":{"author_id":"monika","avatar":"/images/members/monika.jpg","bio":"Software Developer @ Bright Inventions","name":"Monika Niegrzybowska","web":null}},{"frontmatter":{"author_id":"nikodem","avatar":"/images/members/nikodem_kalinowski.jpg","bio":"Web developer","name":"Nikodem Kalinowski","web":null}},{"frontmatter":{"author_id":"patryk","avatar":"/images/members/patryk_huzarski.jpg","bio":"Software Developer @ Bright Inventions","name":"Patryk Huzarski","web":null}},{"frontmatter":{"author_id":"patryk sz","avatar":"/images/members/patryk_szlagowski.jpg","bio":"Senior Backend developer","name":"Patryk Szlagowski","web":null}},{"frontmatter":{"author_id":"paweł","avatar":"/images/members/paweł_gutkowski.jpg","bio":"Fullstack Developer at Bright Inventions ","name":"Paweł Gutkowski","web":null}},{"frontmatter":{"author_id":"pawel","avatar":"/images/members/paweł_papkiewicz.jpg","bio":"Fullstack developer","name":"Paweł Papkiewicz","web":null}},{"frontmatter":{"author_id":"piotr","avatar":"/images/members/piotr_mionskowski.jpg","bio":"TDD fan eager to learn new things","name":"Piotr Mionskowski","web":"https://miensol.pl"}},{"frontmatter":{"author_id":"piotr_l","avatar":"/images/members/piotrl.png","bio":"Android Developer @ Bright Inventions","name":"Piotr Łupiński","web":"http://exp.flamaster2.com"}},{"frontmatter":{"author_id":"radek","avatar":"/images/members/radek_pieczątkiewicz.jpg","bio":"Android developer","name":"Radek Pieczątkiewicz","web":null}},{"frontmatter":{"author_id":"radeks","avatar":"/images/members/radoslaw.jpg","bio":"Software Engineer @ Bright Inventions","name":"Radosław Słowiński","web":null}},{"frontmatter":{"author_id":"rafal h","avatar":"/images/members/rafal_hoffman.jpg","bio":"Fullstack developer","name":"Rafał Hofman","web":null}},{"frontmatter":{"author_id":"sebastian","avatar":"/images/members/sebastian_sobczak.jpg","bio":"Junior Account Manager at Bright Inventions ","name":"Sebastian Sobczak","web":null}},{"frontmatter":{"author_id":"szymek","avatar":"/images/members/szymon_miloch.jpg","bio":"Android & Web developer","name":"Szymon Miloch","web":null}},{"frontmatter":{"author_id":"tomek","avatar":"/images/members/tomek.jpeg","bio":null,"name":"Tomasz Gęsior","web":null}},{"frontmatter":{"author_id":"ula","avatar":"/images/members/ula_stankiewicz.jpg","bio":"HR & Marketing Manager","name":"Ula Stankiewicz","web":null}},{"frontmatter":{"author_id":"wojciech","avatar":"/images/members/wojciech_baczyński.jpg","bio":"Fullstack developer","name":"Wojciech Baczyński","web":null}},{"frontmatter":{"author_id":"lukasz","avatar":"/images/members/lukasz_reszetow.jpg","bio":"Android developer","name":"Łukasz Reszetow","web":null}}]},"site":{"siteMetadata":{"siteUrl":"https://brightinventions.pl"}}},"pageContext":{"fileAbsolutePath":"/home/runner/work/new-www/new-www/src/mdData/blog/2019-01-10-n-ways-to-debug-rn.md"}}}