{"componentChunkName":"component---src-templates-post-template-tsx","path":"/blog/ios-simplest-star-rating-control-ever","result":{"data":{"markdownRemark":{"html":"<p>Recently I had a need to show the simple rating control in one of our iOS apps - the typical row of stars, few leftmost highlighted, the more highlighted, the better the rating is - something as obvious as this:</p>\n<p><img src=\"/images/star-rating-example.png\" alt=\"star rating example\"></p>\n<p>My first thoughts were wandering around star images one after another, the hell with positioning with frames or multitude of <a href=\"http://www.informit.com/articles/article.aspx?p=2041295\">Auto Layout constraints</a>. Nah. The second take led me to <a href=\"https://github.com/erndev/EDStarRating\"><code>EDStarRating</code></a>, a library that does this pretty well. But all I needed was only to show few stars in a row, all the events handling and customizations seemed a bit overkill for the simple task I was facing.</p>\n<p>Then the aha! moment came. I can just play with <a href=\"https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSAttributedString_Class/\"><code>NSAttributedString</code></a>, a fancy thing that adds a lot of formatting capabilities to ordinary string or even parts of it. And there is the awesome set of icons everyone's using anyway in <a href=\"http://fortawesome.github.io/Font-Awesome/icons/\">Font Awesome</a>. So here are the steps I ended up doing:</p>\n<h2>Add Font Awesome to your project</h2>\n<p>There are multiple ways how to do that. We decided to <a href=\"http://luciancancescu.blogspot.com/2015/03/how-to-integrate-fontawesome-in-your.html\">add <code>FontAwesome.otf</code> definition file as a resource to our project</a>, because all I need is just to be able do the following:</p>\n<pre><code class=\"language-Objective-C\">[UIFont fontWithName:@\"FontAwesome\" size:18.0f];\n</code></pre>\n<p>You might prefer to choose one of the <a href=\"http://cocoapods.org/?q=font%20awesome\">available CocoaPods</a> that esentially deal with the same thing, often with additional capabilities or sugar like enumeration for all the icons.</p>\n<h2>Stargaze</h2>\n<p>The idea is to prepare the string that will contain the star icon multiple times, first few highlighted (filled), the rest greyed out or not filled. We need to find the appropriate Unicode numbers for our interesting icons, first - everything we need is <a href=\"http://fortawesome.github.io/Font-Awesome/cheatsheet/\">here</a>:</p>\n<p><img src=\"/images/star-rating-fa.png\" alt=\"Font Awesome Unicode codes\"></p>\n<p>I decided to use the basic <code>fa-star</code> icon (<code>\\uf005</code>) and manipulate with the color, making the inactive gray. You might want to use <code>fa-star-o</code> instead (<code>\\uf123</code>).</p>\n<h2>Build the <code>NSAttributedString</code></h2>\n<p>Now I need to create two formattings - first that represents the highlighted stars that will be black in my case and the second for the not highlighted ones - light gray, let's say. <code>NSAttributedString</code> expects me to provide the dictionaries with the appropriate options. Here they are:</p>\n<pre><code class=\"language-Objective-C\">UIFont *fontAwesome = [UIFont fontWithName:@\"FontAwesome\" size:18.0f];\nNSDictionary *activeStarFormatting = @{\n    NSFontAttributeName : fontAwesome, \n    NSForegroundColorAttributeName : [UIColor blackColor]\n};\nNSDictionary *inactiveStarFormatting = @{\n    NSFontAttributeName : fontAwesome, \n    NSForegroundColorAttributeName : [UIColor lightGrayColor]\n};\n</code></pre>\n<p>Now, all I need is to build the actual string by iterating the appropriate number of times, first adding the highlighted stars, then filling with the inactive ones up to the expected number of stars.</p>\n<pre><code class=\"language-Objective-C\">const NSInteger filledStars = 2;\nconst NSInteger maxStars = 3;\n\nNSMutableAttributedString *attString = [NSMutableAttributedString new];\nNSInteger i = 0;\n\nfor (; i &#x3C; filledStars; ++i) {\n    [attString appendAttributedString:[[NSAttributedString alloc] \n        initWithString:@\" \\uf005 \" attributes:activeStarFormatting]];\n}\nfor (; i &#x3C; maxStars; ++i) {\n    [attString appendAttributedString:[[NSAttributedString alloc] \n        initWithString:@\" \\uf005 \" attributes:inactiveStarFormatting]];\n}\n</code></pre>\n<h2>Enjoy!</h2>\n<p>Now it's just a matter of wrapping it in a nice function:</p>\n<pre><code class=\"language-Objective-C\">+ (NSAttributedString *)starRatingWith:(NSInteger)filledStars\n                            outOfTotal:(NSInteger)totalStars {\n    UIFont *fontAwesome = [UIFont fontWithName:@\"FontAwesome\" size:18.0f];\n    NSDictionary *activeStarFormatting = @{\n            NSFontAttributeName : fontAwesome,\n            NSForegroundColorAttributeName : [UIColor blackColor]\n    };\n    NSDictionary *inactiveStarFormatting = @{\n            NSFontAttributeName : fontAwesome,\n            NSForegroundColorAttributeName : [UIColor lightGrayColor]\n    };\n\n    NSMutableAttributedString *attString = [NSMutableAttributedString new];\n\n    NSInteger i = 0;\n    for (; i &#x3C; filledStars; ++i) {\n        [attString appendAttributedString:[[NSAttributedString alloc]\n                initWithString:@\" \\uf005 \" attributes:activeStarFormatting]];\n    }\n    for (; i &#x3C; totalStars; ++i) {\n        [attString appendAttributedString:[[NSAttributedString alloc]\n                initWithString:@\" \\uf005 \" attributes:inactiveStarFormatting]];\n    }\n\n    return attString;\n}\n</code></pre>\n<p>To use it, we now just need an ordinary <code>UILabel</code>:</p>\n<pre><code class=\"language-Objective-C\">UILabel *starRating = [UILabel new];\nstarRating.attributedText = [self starRatingWith:2 outOfTotal:3];\n</code></pre>\n<p>And here is the result:</p>\n<p><img src=\"/images/star-rating-label.png\" alt=\"NSAttributedString-based star rating example\"></p>\n<p>Voilà!</p>","excerpt":"Recently I had a need to show the simple rating control in one of our iOS apps - the typical row of stars, few leftmost highlighted, the…","frontmatter":{"slug":null,"title":"iOS: The simplest star rating control ever","description":null,"author":"adam","tags":["iOS"],"date":"2015-08-13T00:00:00.000Z","image":null},"timeToRead":3,"fileAbsolutePath":"/home/runner/work/new-www/new-www/src/mdData/blog/2015-08-13-ios-simplest-star-rating-control-ever.md"},"allMarkdownRemark":{"nodes":[{"frontmatter":{"author_id":"adam","avatar":"/images/members/adam_bar.jpg","bio":"The Web Guy @ Bright Inventions","name":"Adam Bar","web":"https://whatwebcando.today"}},{"frontmatter":{"author_id":"agnieszka_h","avatar":"/images/members/agnieszka_h.jpg","bio":"Sales Manager @ Bright Inventions","name":"Agnieszka Hayashida","web":null}},{"frontmatter":{"author_id":"agnieszka","avatar":"/images/members/agnieszka_olszewska.jpg","bio":"Fullstack developer","name":"Agnieszka Olszewska","web":null}},{"frontmatter":{"author_id":"olo","avatar":"/images/members/aleksander_wielgorski.jpeg","bio":"Software Engineer @ Bright Inventions","name":"Aleksander Wielgórski","web":null}},{"frontmatter":{"author_id":"alisa","avatar":"/images/members/alisa_kashytska.jpg","bio":"Product designer","name":"Alisa Kashytska","web":null}},{"frontmatter":{"author_id":"azabost","avatar":"/images/members/andrzej_zabost.jpg","bio":"Senior Android developer","name":"Andrzej Zabost","web":"https://azabost.com"}},{"frontmatter":{"author_id":"arturs","avatar":"/images/members/artur.jpg","bio":"iOS developer","name":"Artur Suliński","web":null}},{"frontmatter":{"author_id":"bartek k","avatar":"/images/members/bartek_krzyzanski.jpg","bio":"Backend developer","name":"Bartek Krzyżański","web":null}},{"frontmatter":{"author_id":"bartekr","avatar":"/images/members/bartek.jpg","bio":"iOS developer","name":"Bartek Rozwarski","web":null}},{"frontmatter":{"author_id":"bartosz","avatar":"/images/members/bartosz_szafran.jpg","bio":"Senior Frontend Developer","name":"Bartosz Szafran","web":null}},{"frontmatter":{"author_id":"daniel","avatar":"/images/members/daniel_makurat.jpg","bio":"Co-founder & Senior Backend developer","name":"Daniel Makurat","web":null}},{"frontmatter":{"author_id":"eliasz","avatar":"/images/members/eliasz.png","bio":"Software Engineer @ Bright Inventions","name":"Eliasz Sawicki","web":"http://eluss.github.io/"}},{"frontmatter":{"author_id":"fjablonski","avatar":"/images/members/filip_jablonski.jpg","bio":"Senior iOS developer","name":"Filip Jabłoński","web":null}},{"frontmatter":{"author_id":"grzesiek","avatar":"/images/members/grzegorz_ciesla.jpg","bio":"Software Developer","name":"Grzegorz Cieśla","web":null}},{"frontmatter":{"author_id":"ivan","avatar":"/images/members/ivan.jpg","bio":"Fullstack developer","name":"Ivan Menshykov","web":null}},{"frontmatter":{"author_id":"janek","avatar":"/images/members/janhanc.jpg","bio":"Frontend developer","name":"Jan Hanc","web":null}},{"frontmatter":{"author_id":"kwysocki","avatar":"/images/members/kamil.png","bio":"Software Engineer @ Bright Inventions","name":"Kamil Wysocki","web":"https://wysockikamil.com"}},{"frontmatter":{"author_id":"karoln","avatar":"/images/members/karol_nadratowski.jpg","bio":null,"name":"Karol Nadratowski","web":null}},{"frontmatter":{"author_id":"karol r","avatar":"/images/members/karol_rinc.jpg","bio":"Backend developer","name":"Karol Rinc","web":null}},{"frontmatter":{"author_id":"kasia","avatar":"/images/members/kasia_lukasiewicz.jpg","bio":"Senior Project Manager","name":"Kasia Łukasiewicz","web":null}},{"frontmatter":{"author_id":"kasia g","avatar":"/images/members/katarzyna_galka.jpg","bio":"Project manager","name":"Katarzyna Gałka","web":null}},{"frontmatter":{"author_id":"krzysiek h","avatar":"/images/members/krzysztof_hinc.jpg","bio":"Web developer","name":"Krzysiek Hinc","web":null}},{"frontmatter":{"author_id":"krzysiek","avatar":"/images/members/krzysztof_kaczmarek.jpg","bio":"Senior iOS Developer","name":"Krzysztof Kaczmarek","web":null}},{"frontmatter":{"author_id":"maciej","avatar":"/images/members/maciej_seleman.jpg","bio":"QA Specialist","name":"Maciej Seleman","web":null}},{"frontmatter":{"author_id":"magda","avatar":"/images/members/magda_sadowska.jpg","bio":"Office & HR Assistant","name":"Magda Sadowska","web":null}},{"frontmatter":{"author_id":"maja","avatar":"/images/members/maja_puta.jpg","bio":"Junior QA Specialist","name":"Maja Puta","web":null}},{"frontmatter":{"author_id":"marcink","avatar":"/images/members/marcin_kwiatkowski.jpg","bio":null,"name":"Marcin Kwiatkowski","web":null}},{"frontmatter":{"author_id":"mateusz","avatar":"/images/members/mateusz_klimczak.jpg","bio":"Technical leader & Project manager","name":"Mateusz Klimczak","web":null}},{"frontmatter":{"author_id":"mateuszklimek","avatar":"/images/members/mateuszklimek.png","bio":"Software Engineer @ Bright Inventions","name":"Mateusz Klimek","web":null}},{"frontmatter":{"author_id":"michal k","avatar":"/images/members/michal_koszalka.jpg","bio":"Senior Backend developer","name":"Michał Koszałka","web":null}},{"frontmatter":{"author_id":"michał","avatar":"/images/members/michal_wrobel.jpg","bio":"Senior Backend Developer at Bright Inventions","name":"Michał Wróbel","web":null}},{"frontmatter":{"author_id":"michal","avatar":"/images/members/michał_łukasiewicz.jpg","bio":"Co-founder & Senior iOS developer","name":"Michał Łukasiewicz","web":null}},{"frontmatter":{"author_id":"monika","avatar":"/images/members/monika.jpg","bio":"Software Developer @ Bright Inventions","name":"Monika Niegrzybowska","web":null}},{"frontmatter":{"author_id":"nikodem","avatar":"/images/members/nikodem_kalinowski.jpg","bio":"Web developer","name":"Nikodem Kalinowski","web":null}},{"frontmatter":{"author_id":"patryk","avatar":"/images/members/patryk_huzarski.jpg","bio":"Software Developer @ Bright Inventions","name":"Patryk Huzarski","web":null}},{"frontmatter":{"author_id":"patryk sz","avatar":"/images/members/patryk_szlagowski.jpg","bio":"Senior Backend developer","name":"Patryk Szlagowski","web":null}},{"frontmatter":{"author_id":"paweł","avatar":"/images/members/paweł_gutkowski.jpg","bio":"Fullstack Developer at Bright Inventions ","name":"Paweł Gutkowski","web":null}},{"frontmatter":{"author_id":"pawel","avatar":"/images/members/paweł_papkiewicz.jpg","bio":"Fullstack developer","name":"Paweł Papkiewicz","web":null}},{"frontmatter":{"author_id":"piotr","avatar":"/images/members/piotr_mionskowski.jpg","bio":"TDD fan eager to learn new things","name":"Piotr Mionskowski","web":"https://miensol.pl"}},{"frontmatter":{"author_id":"piotr_l","avatar":"/images/members/piotrl.png","bio":"Android Developer @ Bright Inventions","name":"Piotr Łupiński","web":"http://exp.flamaster2.com"}},{"frontmatter":{"author_id":"radek","avatar":"/images/members/radek_pieczątkiewicz.jpg","bio":"Android developer","name":"Radek Pieczątkiewicz","web":null}},{"frontmatter":{"author_id":"radeks","avatar":"/images/members/radoslaw.jpg","bio":"Software Engineer @ Bright Inventions","name":"Radosław Słowiński","web":null}},{"frontmatter":{"author_id":"rafal h","avatar":"/images/members/rafal_hoffman.jpg","bio":"Fullstack developer","name":"Rafał Hofman","web":null}},{"frontmatter":{"author_id":"sebastian","avatar":"/images/members/sebastian_sobczak.jpg","bio":"Junior Account Manager at Bright Inventions ","name":"Sebastian Sobczak","web":null}},{"frontmatter":{"author_id":"szymek","avatar":"/images/members/szymon_miloch.jpg","bio":"Android & Web developer","name":"Szymon Miloch","web":null}},{"frontmatter":{"author_id":"tomek","avatar":"/images/members/tomek.jpeg","bio":null,"name":"Tomasz Gęsior","web":null}},{"frontmatter":{"author_id":"ula","avatar":"/images/members/ula_stankiewicz.jpg","bio":"HR & Marketing Manager","name":"Ula Stankiewicz","web":null}},{"frontmatter":{"author_id":"wojciech","avatar":"/images/members/wojciech_baczyński.jpg","bio":"Fullstack developer","name":"Wojciech Baczyński","web":null}},{"frontmatter":{"author_id":"lukasz","avatar":"/images/members/lukasz_reszetow.jpg","bio":"Android developer","name":"Łukasz Reszetow","web":null}}]},"site":{"siteMetadata":{"siteUrl":"https://brightinventions.pl"}}},"pageContext":{"fileAbsolutePath":"/home/runner/work/new-www/new-www/src/mdData/blog/2015-08-13-ios-simplest-star-rating-control-ever.md"}}}