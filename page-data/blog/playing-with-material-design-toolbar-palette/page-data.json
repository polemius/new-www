{"componentChunkName":"component---src-templates-post-template-tsx","path":"/blog/playing-with-material-design-toolbar-palette","result":{"data":{"markdownRemark":{"html":"<p>Since Android L(ollipop) was presented in June at <a href=\"https://www.youtube.com/watch?v=wtLJPvx7-ys\">Google I/O</a>, only two devices on market can run it officially. Nexus 6 and Nexus 9 were released a week ago, and these two guys are ready to go with most recent system from Google, but what about other devices? My Nexus 5 still tryin update everyday, but still no effects :)\nHopefully, we can use some part of Material Design with devices running <strong>Android 2.1 and higher</strong>, because most of implementation was placed in android-support-v7.</p>\n<p>I wrote simple app which displays images in grid with possibility to pick them to see them in full size with ActionBar colors based on picked image. App uses new classes: <a href=\"http://developer.android.com/reference/android/support/v7/graphics/Palette.html\">Palette</a> and <a href=\"http://developer.android.com/reference/android/support/v7/widget/Toolbar.html\">Toolbar</a>.</p>\n<p>It's looks like this:<br /><br />\n<img src=\"%7B%7Bsite.url%7D%7D/images/palette-example1.png\" alt=\"first screenshot\">\n<img src=\"%7B%7Bsite.url%7D%7D/images/palette-example2.png\" alt=\"second screenshot\">\n<img src=\"%7B%7Bsite.url%7D%7D/images/palette-example3.png\" alt=\"third screenshot\">\n<img src=\"%7B%7Bsite.url%7D%7D/images/palette-example4.png\" alt=\"fourth screenshot\"></p>\n<p>Let's code.<br />\nAll dependencies we need:</p>\n<pre><code class=\"language-groovy\">dependencies {\n    compile 'com.android.support:appcompat-v7:21.0.0'\n    compile 'com.android.support:palette-v7:21.0.0'\n    compile 'com.squareup.picasso:picasso:2.4.0'\n}\n</code></pre>\n<p>as you can see Google split android.support and put Palette as separate lib (similar to <a href=\"http://developer.android.com/reference/android/support/v7/widget/RecyclerView.html\">RecyclerView</a> and <a href=\"http://developer.android.com/reference/android/support/v7/widget/CardView.html\">CardView</a>). I used <a href=\"http://square.github.io/picasso/\">Picasso</a> to simple load images from web.</p>\n<p>Next, define AppTheme with parent as <code>Theme.AppCombat</code>. You can also specify <code>colorPrimary</code> and <code>accentColor</code> which are used by framework to color surface background of widgets such as text fields, checkboxes etc.</p>\n<pre><code class=\"language-xml\">&#x3C;style name=\"AppTheme\" parent=\"Theme.AppCompat\">\n  &#x3C;item name=\"colorPrimary\">@color/black&#x3C;/item>\n&#x3C;/style>\n&#x3C;color name=\"black\">#000000&#x3C;/color>\n</code></pre>\n<p>Apply style to application:</p>\n<pre><code class=\"language-xml\">&#x3C;application android:theme=\"@style/AppTheme\" />\n</code></pre>\n<br />\nApp has two activities. First `MainActvity` extends `ActionBarActivity` so framework will show window with `ActionBar` (see first screenshot with GridView).  `ImageActivity` is just `Activity`, so by default window will be rendered without `ActionBar`. But look at other screenshots, they have an `ActionBar`, but wait... actually it's `Toolbar`!\n<p><code>Toolbar</code> is more flexible (easier to customize) <strong>standard</strong> <code>View</code>, so you can put it everywhere in layout, multiple times... and it still can act as <code>ActionBar</code> (see <a href=\"https://developer.android.com/reference/android/app/Activity.html#setActionBar(android.widget.Toolbar)\">setActionBar</a>)</p>\n<p>Let's look at the layout file:</p>\n<pre><code class=\"language-xml\">&#x3C;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\"\n    android:background=\"@color/black\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\">\n\n    &#x3C;android.support.v7.widget.Toolbar\n        android:id=\"@+id/toolbar\"\n        android:background=\"@drawable/rectangle\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"@dimen/abc_action_bar_default_height_material\"\n        android:title=\"@string/app_name\"\n        />\n\n    &#x3C;ImageView\n        android:id=\"@+id/image\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:src=\"@drawable/rectangle\"\n        android:scaleType=\"center\"\n        />\n\n&#x3C;/LinearLayout>\n</code></pre>\n<p>It's simple. Nothing special here, except using of <code>Toolbar</code>.</p>\n<p>Finally we can use <code>Pallete</code> to extract prominent colors from image and change style of <code>Toolbar</code> at runtime.</p>\n<pre><code class=\"language-java\">final Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\nfinal ImageView image = (ImageView) findViewById(R.id.image);\ntarget = new Target() {\n    @Override\n    public void onBitmapLoaded(final Bitmap bitmap, Picasso.LoadedFrom from) {\n        Palette.generateAsync(bitmap, new Palette.PaletteAsyncListener() {\n            public void onGenerated(Palette palette) {\n                image.setImageBitmap(bitmap);\n                int defaultColor = getResources().getColor(R.color.black);\n                toolbar.setBackgroundColor(palette.getLightVibrantColor(defaultColor));\n                toolbar.setTitleTextColor(palette.getDarkMutedColor(defaultColor));\n                toolbar.setTitle(getString(R.string.app_name));\n            }\n        });\n    }\n};\nPicasso.with(this)\n        .load(getIntent().getStringExtra(\"url\"))\n        .into(target);\n</code></pre>\n<p>Look at the screenshots, I think they look pretty well and we didn't need a graphic designer to choose correct colors ;)</p>\n<br />\nSee [full source code at github](https://github.com/mklimek/palette-sample).<br />\nSee [Creating Apps with Material Design](https://developer.android.com/training/material/.html).<br />\nSee [Material Design specification](http://www.google.com/design/spec/material-design/introduction.html#).\n<p>See this post on my <a href=\"http://mklimek.github.io/playing-with-material-design-toolbar-palette/\">personal blog</a>.</p>","excerpt":"Since Android L(ollipop) was presented in June at Google I/O, only two devices on market can run it officially. Nexus 6 and Nexus 9 were…","frontmatter":{"slug":null,"title":"Playing with Material Design, Toolbar and Palette","description":null,"author":"mateuszklimek","tags":["android","materialdesign","android-support-library"],"date":"2014-11-10T23:00:00.000Z","image":null},"timeToRead":3,"fileAbsolutePath":"/home/runner/work/new-www/new-www/src/mdData/blog/2014-11-11-playing-with-material-design-toolbar-palette.md"},"allMarkdownRemark":{"nodes":[{"frontmatter":{"author_id":"adam","avatar":"/images/members/adam_bar.jpg","bio":"The Web Guy @ Bright Inventions","name":"Adam Bar","web":"https://whatwebcando.today"}},{"frontmatter":{"author_id":"agnieszka_h","avatar":"/images/members/agnieszka_h.jpg","bio":"Sales Manager @ Bright Inventions","name":"Agnieszka Hayashida","web":null}},{"frontmatter":{"author_id":"agnieszka","avatar":"/images/members/agnieszka_olszewska.jpg","bio":"Fullstack developer","name":"Agnieszka Olszewska","web":null}},{"frontmatter":{"author_id":"olo","avatar":"/images/members/aleksander_wielgorski.jpeg","bio":"Software Engineer @ Bright Inventions","name":"Aleksander Wielgórski","web":null}},{"frontmatter":{"author_id":"alisa","avatar":"/images/members/alisa_kashytska.jpg","bio":"Product designer","name":"Alisa Kashytska","web":null}},{"frontmatter":{"author_id":"azabost","avatar":"/images/members/andrzej_zabost.jpg","bio":"Senior Android developer","name":"Andrzej Zabost","web":"https://azabost.com"}},{"frontmatter":{"author_id":"arturs","avatar":"/images/members/artur.jpg","bio":"iOS developer","name":"Artur Suliński","web":null}},{"frontmatter":{"author_id":"bartek k","avatar":"/images/members/bartek_krzyzanski.jpg","bio":"Backend developer","name":"Bartek Krzyżański","web":null}},{"frontmatter":{"author_id":"bartekr","avatar":"/images/members/bartek.jpg","bio":"iOS developer","name":"Bartek Rozwarski","web":null}},{"frontmatter":{"author_id":"bartosz","avatar":"/images/members/bartosz_szafran.jpg","bio":"Senior Frontend Developer","name":"Bartosz Szafran","web":null}},{"frontmatter":{"author_id":"daniel","avatar":"/images/members/daniel_makurat.jpg","bio":"Co-founder & Senior Backend developer","name":"Daniel Makurat","web":null}},{"frontmatter":{"author_id":"eliasz","avatar":"/images/members/eliasz.png","bio":"Software Engineer @ Bright Inventions","name":"Eliasz Sawicki","web":"http://eluss.github.io/"}},{"frontmatter":{"author_id":"fjablonski","avatar":"/images/members/filip_jablonski.jpg","bio":"Senior iOS developer","name":"Filip Jabłoński","web":null}},{"frontmatter":{"author_id":"grzesiek","avatar":"/images/members/grzegorz_ciesla.jpg","bio":"Software Developer","name":"Grzegorz Cieśla","web":null}},{"frontmatter":{"author_id":"ivan","avatar":"/images/members/ivan.jpg","bio":"Fullstack developer","name":"Ivan Menshykov","web":null}},{"frontmatter":{"author_id":"janek","avatar":"/images/members/janhanc.jpg","bio":"Frontend developer","name":"Jan Hanc","web":null}},{"frontmatter":{"author_id":"kwysocki","avatar":"/images/members/kamil.png","bio":"Software Engineer @ Bright Inventions","name":"Kamil Wysocki","web":"https://wysockikamil.com"}},{"frontmatter":{"author_id":"karoln","avatar":"/images/members/karol_nadratowski.jpg","bio":null,"name":"Karol Nadratowski","web":null}},{"frontmatter":{"author_id":"karol r","avatar":"/images/members/karol_rinc.jpg","bio":"Backend developer","name":"Karol Rinc","web":null}},{"frontmatter":{"author_id":"kasia","avatar":"/images/members/kasia_lukasiewicz.jpg","bio":"Senior Project Manager","name":"Kasia Łukasiewicz","web":null}},{"frontmatter":{"author_id":"kasia g","avatar":"/images/members/katarzyna_galka.jpg","bio":"Project manager","name":"Katarzyna Gałka","web":null}},{"frontmatter":{"author_id":"krzysiek h","avatar":"/images/members/krzysztof_hinc.jpg","bio":"Web developer","name":"Krzysiek Hinc","web":null}},{"frontmatter":{"author_id":"krzysiek","avatar":"/images/members/krzysztof_kaczmarek.jpg","bio":"Senior iOS Developer","name":"Krzysztof Kaczmarek","web":null}},{"frontmatter":{"author_id":"maciej","avatar":"/images/members/maciej_seleman.jpg","bio":"QA Specialist","name":"Maciej Seleman","web":null}},{"frontmatter":{"author_id":"magda","avatar":"/images/members/magda_sadowska.jpg","bio":"Office & HR Assistant","name":"Magda Sadowska","web":null}},{"frontmatter":{"author_id":"maja","avatar":"/images/members/maja_puta.jpg","bio":"Junior QA Specialist","name":"Maja Puta","web":null}},{"frontmatter":{"author_id":"marcink","avatar":"/images/members/marcin_kwiatkowski.jpg","bio":null,"name":"Marcin Kwiatkowski","web":null}},{"frontmatter":{"author_id":"mateusz","avatar":"/images/members/mateusz_klimczak.jpg","bio":"Technical leader & Project manager","name":"Mateusz Klimczak","web":null}},{"frontmatter":{"author_id":"mateuszklimek","avatar":"/images/members/mateuszklimek.png","bio":"Software Engineer @ Bright Inventions","name":"Mateusz Klimek","web":null}},{"frontmatter":{"author_id":"michal k","avatar":"/images/members/michal_koszalka.jpg","bio":"Senior Backend developer","name":"Michał Koszałka","web":null}},{"frontmatter":{"author_id":"michał","avatar":"/images/members/michal_wrobel.jpg","bio":"Senior Backend Developer at Bright Inventions","name":"Michał Wróbel","web":null}},{"frontmatter":{"author_id":"michal","avatar":"/images/members/michał_łukasiewicz.jpg","bio":"Co-founder & Senior iOS developer","name":"Michał Łukasiewicz","web":null}},{"frontmatter":{"author_id":"monika","avatar":"/images/members/monika.jpg","bio":"Software Developer @ Bright Inventions","name":"Monika Niegrzybowska","web":null}},{"frontmatter":{"author_id":"nikodem","avatar":"/images/members/nikodem_kalinowski.jpg","bio":"Web developer","name":"Nikodem Kalinowski","web":null}},{"frontmatter":{"author_id":"patryk","avatar":"/images/members/patryk_huzarski.jpg","bio":"Software Developer @ Bright Inventions","name":"Patryk Huzarski","web":null}},{"frontmatter":{"author_id":"patryk sz","avatar":"/images/members/patryk_szlagowski.jpg","bio":"Senior Backend developer","name":"Patryk Szlagowski","web":null}},{"frontmatter":{"author_id":"paweł","avatar":"/images/members/paweł_gutkowski.jpg","bio":"Fullstack Developer at Bright Inventions ","name":"Paweł Gutkowski","web":null}},{"frontmatter":{"author_id":"pawel","avatar":"/images/members/paweł_papkiewicz.jpg","bio":"Fullstack developer","name":"Paweł Papkiewicz","web":null}},{"frontmatter":{"author_id":"piotr","avatar":"/images/members/piotr_mionskowski.jpg","bio":"TDD fan eager to learn new things","name":"Piotr Mionskowski","web":"https://miensol.pl"}},{"frontmatter":{"author_id":"piotr_l","avatar":"/images/members/piotrl.png","bio":"Android Developer @ Bright Inventions","name":"Piotr Łupiński","web":"http://exp.flamaster2.com"}},{"frontmatter":{"author_id":"radek","avatar":"/images/members/radek_pieczątkiewicz.jpg","bio":"Android developer","name":"Radek Pieczątkiewicz","web":null}},{"frontmatter":{"author_id":"radeks","avatar":"/images/members/radoslaw.jpg","bio":"Software Engineer @ Bright Inventions","name":"Radosław Słowiński","web":null}},{"frontmatter":{"author_id":"rafal h","avatar":"/images/members/rafal_hoffman.jpg","bio":"Fullstack developer","name":"Rafał Hofman","web":null}},{"frontmatter":{"author_id":"sebastian","avatar":"/images/members/sebastian_sobczak.jpg","bio":"Junior Account Manager at Bright Inventions ","name":"Sebastian Sobczak","web":null}},{"frontmatter":{"author_id":"szymek","avatar":"/images/members/szymon_miloch.jpg","bio":"Android & Web developer","name":"Szymon Miloch","web":null}},{"frontmatter":{"author_id":"tomek","avatar":"/images/members/tomek.jpeg","bio":null,"name":"Tomasz Gęsior","web":null}},{"frontmatter":{"author_id":"ula","avatar":"/images/members/ula_stankiewicz.jpg","bio":"HR & Marketing Manager","name":"Ula Stankiewicz","web":null}},{"frontmatter":{"author_id":"wojciech","avatar":"/images/members/wojciech_baczyński.jpg","bio":"Fullstack developer","name":"Wojciech Baczyński","web":null}},{"frontmatter":{"author_id":"lukasz","avatar":"/images/members/lukasz_reszetow.jpg","bio":"Android developer","name":"Łukasz Reszetow","web":null}}]},"site":{"siteMetadata":{"siteUrl":"https://brightinventions.pl"}}},"pageContext":{"fileAbsolutePath":"/home/runner/work/new-www/new-www/src/mdData/blog/2014-11-11-playing-with-material-design-toolbar-palette.md"}}}