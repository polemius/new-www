{"componentChunkName":"component---src-templates-post-template-tsx","path":"/blog/bitrise-loves-detox","result":{"data":{"markdownRemark":{"html":"<p>You finally did it! New functionality is ready to be deployed. This new feature will revolutionize the market, will give tons of new users and other few millions on your account. Fantastic feeling, isn't it? Once the app is in store, you start to rub your hands. But what if your app ranting suddenly goes down, people are frustrated because you have broken one of the other core functionalities by accident. Sweaty and stressed, you start to debug. Thankfully it is easy to fix. A few more clicks and the updated version lands in a store. Sigh... that was too close if there was something that could prevent such situations in the future.</p>\n<p>Please welcome Bitrise and Detox! Bitrise is a CI/CD  service with a Mobile-First approach, while Detox is a tool that allows you to create an E2E test with the Gray Box approach to React Native. I will show how nice and easy you can launch tests written with Detox on Bitrise.</p>\n<p>Sample React Native project with configured Detox tests you can download from here <a href=\"https://gitlab.com/Filipsky/bitrise_loves_detox\">https://gitlab.com/Filipsky/bitrise_loves_detox</a>.\nI added there one specific setting, which is vital while launching Detox tests on Bitrise. It will build the app in a Release configuration. We will test precisely the same app that will land in users hands, and CI will not have to launch React Native launch packagers, which might cause some problems with tests.</p>\n<p>With a set-up project, all you have to do is go to <a href=\"https://www.bitrise.io\">https://www.bitrise.io</a> and create your new account!</p>\n<p>Bitrise is free of charge with some limitations you want to get rid of it. Check out the pricing page for some paid plans.</p>\n<p>Ok, it is time for some action! After you created your account and log in, you should see a beautiful button Add New App. Please press it and choose \"Add New App on Web UI.\"</p>\n<p><img src=\"/images/bitrise_loves_detox/add-new-app.png\" alt=\"Add New App\"></p>\n<p>You probably would like to keep your super project private, but you can make it public as well.</p>\n<p><img src=\"/images/bitrise_loves_detox/select-private.png\" alt=\"Select Private\"></p>\n<p>Now let's select the repository where you store your project. For me, it is GitLab.</p>\n<p><img src=\"/images/bitrise_loves_detox/repo-select.png\" alt=\"Select Repository\"></p>\n<p>If you are using some private libraries, you can create ssh keys to access. My project is pretty simple, so that I will skip this step.</p>\n<p><img src=\"/images/bitrise_loves_detox/ssh-keys.png\" alt=\"Skip adding ssh keys\"></p>\n<p>Type name of your main branch.</p>\n<p><img src=\"/images/bitrise_loves_detox/choose-branch.png\" alt=\"Choose main branch\"></p>\n<p>Sigh... that is a lot of things to configure. So maybe Bitrise could automate some of the processes. Thankfully it can. Let's take a short break and let Bitrise do its job. This process might take a while.</p>\n<p><img src=\"/images/bitrise_loves_detox/coffe-break.png\" alt=\"coffe break\"></p>\n<p>You can proceed or edit these settings if you do not like the final results</p>\n<p><img src=\"/images/bitrise_loves_detox/configuration.png\" alt=\"Project configuration\"></p>\n<p>If you have an icon for your remarkable app, you can add it here. There is also an option for a webhook so you can integrate Bitrise with some of your external systems. I do not have such a requirement, so that I will skip it.</p>\n<p><img src=\"/images/bitrise_loves_detox/webhook-app-icon.png\" alt=\"App icon, webhook\"></p>\n<p>Congrats! You just added your first project on Bitrise!</p>\n<p><img src=\"/images/bitrise_loves_detox/your_new_app.png\" alt=\"New app\"></p>\n<p>It is time for some real action. We need to launch our tests! Thankfully Bitrise did almost all the dirty work for us, so all we need to is to run these four lines of commands:</p>\n<pre><code>pod install --project-directory=ios/\nnpm install -g detox-cli\ndetox build --configuration ios\ndetox test --configuration ios --workers 2\n</code></pre>\n<p>The first one will download all pods for our ios project. The second one will install \"detox cli,\" which is not present on the stack we are using.  The third one builds our application to make it testable with Detox. The last one will launch our tests, to get results faster, I choose two workers.</p>\n<p>Select your application on the top right side of the screen and then select the \"Workflow\" tab</p>\n<p><img src=\"/images/bitrise_loves_detox/workflow-select.png\" alt=\"Workflow select\"></p>\n<p>Press on the \"+\" sign below the last Yarn step. </p>\n<p><img src=\"/images/bitrise_loves_detox/edit_workflow.png\" alt=\"Edit workflow\"></p>\n<p>Then search and choose Script.</p>\n<p><img src=\"/images/bitrise_loves_detox/search_script.png\" alt=\"Search for Script\"></p>\n<p>Now you can configure script content with our four lines :).</p>\n<p><img src=\"/images/bitrise_loves_detox/script_edit.png\" alt=\"Configure Script\"></p>\n<p>Press Save on the top-right corner.\nYour new workflow is ready! It is time to check this beast in action.\nSelect Start/Schedule Build</p>\n<p><img src=\"/images/bitrise_loves_detox/start_schedule.png\" alt=\"Start schedule\"></p>\n<p>And then Start Build.</p>\n<p><img src=\"/images/bitrise_loves_detox/run_build.png\" alt=\"Start schedule\"></p>\n<p>Congrats! You just become an owner of a project with its CI!</p>\n<p><img src=\"/images/bitrise_loves_detox/end_result.png\" alt=\"End Result\"></p>\n<p>Now you're not afraid to face new features, and the word \"quality\" gets a new meaning.</p>\n<p>I highly encourage you to keep digging. Bitrise has plenty of preconfigured steps, which can make your life way more comfortable. You can make a step forward and add configuration which will launch unit tests or give a possibility to deploy your app with just one button click. Who knows what awaits you just behind the corner!</p>","excerpt":"You finally did it! New functionality is ready to be deployed. This new feature will revolutionize the market, will give tons of new users…","frontmatter":{"slug":null,"title":"Bitrise Loves Detox","description":null,"author":"fjablonski","tags":["bitrise","detox","react native","CI"],"date":"2020-11-21T17:35:00.000Z","image":"/images/Bitrise Loves Detox.png"},"timeToRead":3,"fileAbsolutePath":"/home/runner/work/new-www/new-www/src/mdData/blog/2020-11-21-bitrise-loves-detox.md"},"allMarkdownRemark":{"nodes":[{"frontmatter":{"author_id":"adam","avatar":"/images/members/adam_bar.jpg","bio":"The Web Guy @ Bright Inventions","name":"Adam Bar","web":"https://whatwebcando.today"}},{"frontmatter":{"author_id":"agnieszka_h","avatar":"/images/members/agnieszka_h.jpg","bio":"Sales Manager @ Bright Inventions","name":"Agnieszka Hayashida","web":null}},{"frontmatter":{"author_id":"agnieszka","avatar":"/images/members/agnieszka_olszewska.jpg","bio":"Fullstack developer","name":"Agnieszka Olszewska","web":null}},{"frontmatter":{"author_id":"olo","avatar":"/images/members/aleksander_wielgorski.jpeg","bio":"Software Engineer @ Bright Inventions","name":"Aleksander Wielgórski","web":null}},{"frontmatter":{"author_id":"alisa","avatar":"/images/members/alisa_kashytska.jpg","bio":"Product designer","name":"Alisa Kashytska","web":null}},{"frontmatter":{"author_id":"azabost","avatar":"/images/members/andrzej_zabost.jpg","bio":"Senior Android developer","name":"Andrzej Zabost","web":"https://azabost.com"}},{"frontmatter":{"author_id":"arturs","avatar":"/images/members/artur.jpg","bio":"iOS developer","name":"Artur Suliński","web":null}},{"frontmatter":{"author_id":"bartek k","avatar":"/images/members/bartek_krzyzanski.jpg","bio":"Backend developer","name":"Bartek Krzyżański","web":null}},{"frontmatter":{"author_id":"bartekr","avatar":"/images/members/bartek.jpg","bio":"iOS developer","name":"Bartek Rozwarski","web":null}},{"frontmatter":{"author_id":"bartosz","avatar":"/images/members/bartosz_szafran.jpg","bio":"Senior Frontend Developer","name":"Bartosz Szafran","web":null}},{"frontmatter":{"author_id":"daniel","avatar":"/images/members/daniel_makurat.jpg","bio":"Co-founder & Senior Backend developer","name":"Daniel Makurat","web":null}},{"frontmatter":{"author_id":"eliasz","avatar":"/images/members/eliasz.png","bio":"Software Engineer @ Bright Inventions","name":"Eliasz Sawicki","web":"http://eluss.github.io/"}},{"frontmatter":{"author_id":"fjablonski","avatar":"/images/members/filip_jablonski.jpg","bio":"Senior iOS developer","name":"Filip Jabłoński","web":null}},{"frontmatter":{"author_id":"grzesiek","avatar":"/images/members/grzegorz_ciesla.jpg","bio":"Software Developer","name":"Grzegorz Cieśla","web":null}},{"frontmatter":{"author_id":"ivan","avatar":"/images/members/ivan.jpg","bio":"Fullstack developer","name":"Ivan Menshykov","web":null}},{"frontmatter":{"author_id":"janek","avatar":"/images/members/janhanc.jpg","bio":"Frontend developer","name":"Jan Hanc","web":null}},{"frontmatter":{"author_id":"kwysocki","avatar":"/images/members/kamil.png","bio":"Software Engineer @ Bright Inventions","name":"Kamil Wysocki","web":"https://wysockikamil.com"}},{"frontmatter":{"author_id":"karoln","avatar":"/images/members/karol_nadratowski.jpg","bio":null,"name":"Karol Nadratowski","web":null}},{"frontmatter":{"author_id":"karol r","avatar":"/images/members/karol_rinc.jpg","bio":"Backend developer","name":"Karol Rinc","web":null}},{"frontmatter":{"author_id":"kasia","avatar":"/images/members/kasia_lukasiewicz.jpg","bio":"Senior Project Manager","name":"Kasia Łukasiewicz","web":null}},{"frontmatter":{"author_id":"kasia g","avatar":"/images/members/katarzyna_galka.jpg","bio":"Project manager","name":"Katarzyna Gałka","web":null}},{"frontmatter":{"author_id":"krzysiek h","avatar":"/images/members/krzysztof_hinc.jpg","bio":"Web developer","name":"Krzysiek Hinc","web":null}},{"frontmatter":{"author_id":"krzysiek","avatar":"/images/members/krzysztof_kaczmarek.jpg","bio":"Senior iOS Developer","name":"Krzysztof Kaczmarek","web":null}},{"frontmatter":{"author_id":"maciej","avatar":"/images/members/maciej_seleman.jpg","bio":"QA Specialist","name":"Maciej Seleman","web":null}},{"frontmatter":{"author_id":"magda","avatar":"/images/members/magda_sadowska.jpg","bio":"Office & HR Assistant","name":"Magda Sadowska","web":null}},{"frontmatter":{"author_id":"maja","avatar":"/images/members/maja_puta.jpg","bio":"Junior QA Specialist","name":"Maja Puta","web":null}},{"frontmatter":{"author_id":"marcink","avatar":"/images/members/marcin_kwiatkowski.jpg","bio":null,"name":"Marcin Kwiatkowski","web":null}},{"frontmatter":{"author_id":"mateusz","avatar":"/images/members/mateusz_klimczak.jpg","bio":"Technical leader & Project manager","name":"Mateusz Klimczak","web":null}},{"frontmatter":{"author_id":"mateuszklimek","avatar":"/images/members/mateuszklimek.png","bio":"Software Engineer @ Bright Inventions","name":"Mateusz Klimek","web":null}},{"frontmatter":{"author_id":"michal k","avatar":"/images/members/michal_koszalka.jpg","bio":"Senior Backend developer","name":"Michał Koszałka","web":null}},{"frontmatter":{"author_id":"michał","avatar":"/images/members/michal_wrobel.jpg","bio":"Senior Backend Developer at Bright Inventions","name":"Michał Wróbel","web":null}},{"frontmatter":{"author_id":"michal","avatar":"/images/members/michał_łukasiewicz.jpg","bio":"Co-founder & Senior iOS developer","name":"Michał Łukasiewicz","web":null}},{"frontmatter":{"author_id":"monika","avatar":"/images/members/monika.jpg","bio":"Software Developer @ Bright Inventions","name":"Monika Niegrzybowska","web":null}},{"frontmatter":{"author_id":"nikodem","avatar":"/images/members/nikodem_kalinowski.jpg","bio":"Web developer","name":"Nikodem Kalinowski","web":null}},{"frontmatter":{"author_id":"patryk","avatar":"/images/members/patryk_huzarski.jpg","bio":"Software Developer @ Bright Inventions","name":"Patryk Huzarski","web":null}},{"frontmatter":{"author_id":"patryk sz","avatar":"/images/members/patryk_szlagowski.jpg","bio":"Senior Backend developer","name":"Patryk Szlagowski","web":null}},{"frontmatter":{"author_id":"paweł","avatar":"/images/members/paweł_gutkowski.jpg","bio":"Fullstack Developer at Bright Inventions ","name":"Paweł Gutkowski","web":null}},{"frontmatter":{"author_id":"pawel","avatar":"/images/members/paweł_papkiewicz.jpg","bio":"Fullstack developer","name":"Paweł Papkiewicz","web":null}},{"frontmatter":{"author_id":"piotr","avatar":"/images/members/piotr_mionskowski.jpg","bio":"TDD fan eager to learn new things","name":"Piotr Mionskowski","web":"https://miensol.pl"}},{"frontmatter":{"author_id":"piotr_l","avatar":"/images/members/piotrl.png","bio":"Android Developer @ Bright Inventions","name":"Piotr Łupiński","web":"http://exp.flamaster2.com"}},{"frontmatter":{"author_id":"radek","avatar":"/images/members/radek_pieczątkiewicz.jpg","bio":"Android developer","name":"Radek Pieczątkiewicz","web":null}},{"frontmatter":{"author_id":"radeks","avatar":"/images/members/radoslaw.jpg","bio":"Software Engineer @ Bright Inventions","name":"Radosław Słowiński","web":null}},{"frontmatter":{"author_id":"rafal h","avatar":"/images/members/rafal_hoffman.jpg","bio":"Fullstack developer","name":"Rafał Hofman","web":null}},{"frontmatter":{"author_id":"sebastian","avatar":"/images/members/sebastian_sobczak.jpg","bio":"Junior Account Manager at Bright Inventions ","name":"Sebastian Sobczak","web":null}},{"frontmatter":{"author_id":"szymek","avatar":"/images/members/szymon_miloch.jpg","bio":"Android & Web developer","name":"Szymon Miloch","web":null}},{"frontmatter":{"author_id":"tomek","avatar":"/images/members/tomek.jpeg","bio":null,"name":"Tomasz Gęsior","web":null}},{"frontmatter":{"author_id":"ula","avatar":"/images/members/ula_stankiewicz.jpg","bio":"HR & Marketing Manager","name":"Ula Stankiewicz","web":null}},{"frontmatter":{"author_id":"wojciech","avatar":"/images/members/wojciech_baczyński.jpg","bio":"Fullstack developer","name":"Wojciech Baczyński","web":null}},{"frontmatter":{"author_id":"lukasz","avatar":"/images/members/lukasz_reszetow.jpg","bio":"Android developer","name":"Łukasz Reszetow","web":null}}]},"site":{"siteMetadata":{"siteUrl":"https://brightinventions.pl"}}},"pageContext":{"fileAbsolutePath":"/home/runner/work/new-www/new-www/src/mdData/blog/2020-11-21-bitrise-loves-detox.md"}}}